<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lesson_12</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .container {
      display: flex;
    }
    .box {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100px;
      height: 100px;
      margin: 10px;
      padding: 10px;
      border: 1px solid grey;
      font-size: 20px;
    }
    button {
      width: 20px;
      cursor: pointer;
    }
  </style>
  <body>
    <div class="container">
      <div class="box">
        <button data-plus="plus">+</button>
        <p data-content="content">0</p>
        <button data-minus="minus">-</button>
      </div>
      <div class="box">
        <button data-plus="plus">+</button>
        <p data-content="content">0</p>
        <button data-minus="minus">-</button>
      </div>
      <div class="box">
        <button data-plus="plus">+</button>
        <p data-content="content">0</p>
        <button data-minus="minus">-</button>
      </div>
      <div class="box">
        <button data-plus="plus">+</button>
        <p data-content="content">0</p>
        <button data-minus="minus">-</button>
      </div>
      <div class="box">
        <button data-plus="plus">+</button>
        <p data-content="content">0</p>
        <button data-minus="minus">-</button>
      </div>
      <div class="box">
        <button data-plus="plus">+</button>
        <p data-content="content">0</p>
        <button data-minus="minus">-</button>
      </div>
    </div>

    <script>
      "use strict";

      // 1. 5 квадратов внутри каждого из которых изначально вписана цифра 0, при клике на любой квадрат цифра в нем увеличивается на один
      //     * сделать чтоб внутри квадратов были кнопки +/-

      let buttons = document.querySelectorAll("button");
      console.log(buttons);

      buttons.forEach(function (btn) {
        btn.addEventListener("click", function () {
          let numb = this.parentNode.querySelector("p");
          let count = +numb.textContent;

          if (this.dataset.plus) {
            count++;
            numb.textContent = count;
          }
          if (this.dataset.minus) {
            count--;
            numb.textContent = count;
          }
        });
      });

      // 2. У вас есть ссылка: https://ithillel.ua/?utm_source=%D0%9A%D0%B0%D1%80%D0%BB%20%D1%83%20%D0%9A%D0%BB%D0%B0%D1%80%D1%8B%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D1%8B&utm_medium=,%20%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D1%83%20%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%D0%B0%20%D0%BA%D0%BB%D0%B0%D1%80%D0%BD%D0%B5%D1%82.&utm_campaign=%D0%9A%D0%BE%D1%80%D0%BE%D0%BB%D0%B5%D0%B2%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D0%BA%D0%B0%D0%B2%D0%B0%D0%BB%D0%B5%D1%80%D0%B0&utm_term=%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%81%D1%82%D1%80%D0%BE%D0%B3%D0%BE%20%D0%BA%D0%B0%D1%80%D0%B0%D0%BB%D0%B0&utm_content=%D0%B7%D0%B0%20%D0%BA%D1%80%D0%B0%D0%B6%D1%83%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D0%BE%D0%B2

      // Вам нужно достать из нее квери параметры и собрать из них объект. Дальше вам нужно этот объект вывести в виде таблицы.

      // Квери параметры - это то, что указано в конце адреса после ?. Каждый параметр отделяется символом &. Пример: https://ithillel.ua/?param1=value1&param2=value2

      // Для декодирования такого значения %D0%9A%D0%B0%D1%80%D0%BB%2 используйте decodeURIComponent()

      const url =
        "https://ithillel.ua/?utm_source=%D0%9A%D0%B0%D1%80%D0%BB%20%D1%83%20%D0%9A%D0%BB%D0%B0%D1%80%D1%8B%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D1%8B&utm_medium=,%20%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D1%83%20%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%D0%B0%20%D0%BA%D0%BB%D0%B0%D1%80%D0%BD%D0%B5%D1%82.&utm_campaign=%D0%9A%D0%BE%D1%80%D0%BE%D0%BB%D0%B5%D0%B2%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D0%BA%D0%B0%D0%B2%D0%B0%D0%BB%D0%B5%D1%80%D0%B0&utm_term=%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%81%D1%82%D1%80%D0%BE%D0%B3%D0%BE%20%D0%BA%D0%B0%D1%80%D0%B0%D0%BB%D0%B0&utm_content=%D0%B7%D0%B0%20%D0%BA%D1%80%D0%B0%D0%B6%D1%83%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D0%BE%D0%B2";

      let decodeUrl = decodeURIComponent(url);    // Для декодирую URL
      let indexStartjQueryParam = decodeUrl.indexOf("?");   // Нахожу индекс знака ?
      let jQueryParam = decodeUrl.slice(indexStartjQueryParam + 1);   // Отсекаю не квери параметры (все до знака ? включительно)

      let arr = jQueryParam.split("&");  // Превращаю строку в массив по разделителю &

      let obj = {};

      arr.forEach(function(pair){         // Перебираю каждый двумерный массив "ключ-значение" и заполняю ними новый объект
        let keyValue = pair.split("=");
        obj[keyValue[0]] = keyValue[1];        
      });

      let content = "";   // Создаю таблицу, заполняя ее значениями из объекта

      for (let key in obj) {
        let line = "";
        line += `<td>${key}</td>`;
        line += `<td>${obj[key]}</td>`;

        content += `<tr>${line}</tr>`;
      };

      let $table = document.createElement("table");
      $table.border = "1";
      $table.innerHTML = content;
      document.body.append($table);


    </script>
  </body>
</html>
